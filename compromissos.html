<!doctype html>
<html lang="en" class="h-100">
    <head>
      <link href="cover.css" rel="stylesheet">
<?php header('Access-Control-Allow-Origin: *'); ?>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Tela Principal</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/cover/">
	<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet">
    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    
    <!-- Custom styles for this template -->
  </head>
  <body class="d-flex h-100 text-center text-white bg-dark">
    
<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
  <header class="mb-auto">
    <div>
      <h3 class="float-md-start mb-0">Agenda</h3>
      <nav class="nav nav-masthead justify-content-center float-md-end">
        <a class="nav-link active" aria-current="page" href="#">Tela principal</a>
        <a class="nav-link" href="#">Compromissos</a>
        <a class="nav-link" href="#">Contatos</a>
      </nav>
    </div>
  </header>

  <main class="px-3">
    <h1>Seus compromissos de hoje:</h1>
    
    <div>
      <button>Pesquisar</button>
      <table>
          <thead>
              <th>data</th>
              <th>local</th>
              <th>email</th>
          </thead>
          <tbody>
              
          </tbody>
      </table>
  </div>
   
    <br>
    <p class="lead" >
  












      <center>
        <a href="/login.html" class="btn btn-lg justify-content-center btn-secondary fw-bold bg-transparent">Adicionar um compromisso
            <i class="material-icons md-48">celebration</i>
        </a><br><br>
    </center>
      </p>


      
  </main>

  <footer class="mt-auto text-white-50">
    <p>Feito por <a href="https://www.instagram.com/1gvargas/" class="text-white">Gustavo Vargas de Andrade</a>, e <a href="https://www.instagram.com/lucaswalberton/" class="text-white">Lucas Waterkemper Alberton</a>.</p>
  </footer>
</div>


<script>
  $(document).ready(function () {
     
      
        $("button").click(() => {
             
              chamarGet();

            }
            )
})

  function chamarGet(){
    var request = new XMLHttpRequest()

request.open('GET', 'http://localhost:4000/compromissos', true)
request.onload = function () {
  // Begin accessing JSON data here
  var data = JSON.parse(this.response)

  if (request.status >= 200 && request.status < 400) {
    for(ob in data.compromissos){
      console.log(data.compromissos[ob].descricao);
    }
    var text = "";
            for (ob in data.compromissos) {
                text += "<tr>";
                text += "<td>" + data.compromissos[ob].descricao + "</td>";
                text += "<td>" + data.compromissos[ob].local + "</td>";
                text += "<td>" + data.compromissos[ob]._id + "</td>";               
                text += "</tr>";
            }
           // document.getElementsByTagName("tbody")[0].innerHTML = text;
            $("tbody").html(text);
  } else {
    console.log('error')
  }
}

request.send()
  }
  
</script>
    
</body>

</html>
